<!DOCTYPE html>
<html ng-app="ionicApp">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title>React 页面+ionic</title>
    <link href="https://cdn.bootcss.com/ionic/1.3.2/css/ionic.css" rel="stylesheet">
    <!-- <script src="ionic.bundle.min.js"></script> -->
    <script src="https://cdn.bootcss.com/react/15.4.2/react.min.js"></script>
    <script src="https://cdn.bootcss.com/react/15.4.2/react-dom.min.js"></script>
    <script src="https://cdn.bootcss.com/babel-standalone/6.22.1/babel.min.js"></script>
    <link href="css/demo.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div id="example">
    </div>
    <script type="text/babel">
        //外层
        class Contentapp extends React.Component {
                constructor(props) {
                    super(props);
                    this.state = {
                        key:1,
                        showPop:false,
                        header:[
                            {headerImg:"image/head-message.png"},
                            {headerMessage:"消息"},
                            {headerImgSum:"image/head-sum.png"}
                            ],
                        content:[
                                {list:[
                                    {title:'别敷衍我',content:'Nine Inch Nails',show:true,img:'image/201859.jpg',num:1},
                                    {title:'ooo',content:'Nine Inch Nails',show:false,img:'image/2018510.jpg'},
                                    {title:'美梦因你',content:'Nine Inch Nails',show:false,img:'image/2018511.jpg'},
                                    {title:'ooo',content:'Nine Inch Nails',show:false,img:'image/2018512.jpg'},
                                    {title:'美梦因你',content:'Nine Inch Nails',show:true,img:'image/2018513.jpg'},
                                    {title:'ooo',content:'Nine Inch Nails',show:false,img:'image/2018514.jpg'},
                                    {title:'美梦因你',content:'Nine Inch Nails',show:false,img:'image/2018511.jpg'},
                                    {title:'Pretty Hate Machine',content:'Nine Inch Nails',show:false,img:'image/2018513.jpg'},
                                    {title:'美梦因你',content:'Nine Inch Nails',show:false,img:'image/2018510.jpg'},
                                    {title:'Pretty Hate Machine',content:'Nine Inch Nails',show:false,img:'image/2018511.jpg'},
                                    {title:'ooo',content:'Nine Inch Nails',show:false,img:'image/2018510.jpg'},
                                    {title:'别敷衍我',content:'Nine Inch Nails',show:false,img:'image/2018511.jpg'},
                                    {title:'Pretty Hate Machine',content:'Nine Inch Nails',show:false,img:'image/2018510.jpg'},
                                    {title:'ooo',content:'Nine Inch Nails',show:false,img:'image/201859.jpg'}
                                ]}
                            ],
                    headpop:[
                        {name:'玩一玩'},
                        {name:'好友'},
                        {name:'扫一扫'},
                        {name:'面对面'},
                        {name:'拍摄'},
                        {name:'付款'}
                    ]        
                    }
                }

                onSelectItem=(it)=>{
                    this.setState({
                        key:it.key
                    })
                }

                showPop = ()=>{
                    this.setState((state)=>{
                        return {
                            showPop:!state.showPop
                        };
                    })
                }

                clickPopMain = ()=>{
                    this.setState({
                        showPop:false
                    })
                }

                clickPop=(e)=>{
                    e.stopPropagation();
                }
                
                 
                render() {
                    return (
                        <div className="Contentapp-out">
                            <Headerapp showPop={this.showPop} dataHead = {this.state.header} popData ={this.state.headpop}/>
                            {
                                this.state.key==1&&<Contentallapp1 dataContent = {this.state.content[0].list}/>
                            }
                            {
                                this.state.key==2&&<Contentallapp2 dataContent = {this.state.content[0].list}/>
                            }
                            <Footapp onSelectItem={this.onSelectItem}/>
                            {
                                    this.state.showPop&&(
                                        <div className="header-pop-out" onClick={this.clickPopMain}>
                                            <div className="header-pop" onClick={this.clickPop}>
                                                <img className="header-img-up" src="image/icon/up.png"/>
                                                <ul className="header-up-ul">
                                                    {
                                                        this.state.headpop.map((key)=>{
                                                            return (<li className="header-up-li">{key.name}</li>)
                                                        })
                                                    }
                                                </ul>
                                            </div>
                                        </div>
                                    )
                                }
                        </div>
                        )
                    
                }
        }
        //头部
        class Headerapp extends React.Component {
                constructor(props) {
                    super(props);
                    this.state={
                        showPop:false
                    };
                }
                headSumTop=(e)=>{
                    this.props.showPop();
                }
                render() {
                    return (<div className="bar bar-header bar-positive head-content">
                                <img className="header-img" src={this.props.dataHead[0].headerImg}/>
                                <span className="header-message">{this.props.dataHead[1].headerMessage}</span>
                                <img className="header-img-sum" onClick={this.headSumTop} src={this.props.dataHead[2].headerImgSum} />
                                
                            </div>)
                }
        }
        //内容1
        class Contentallapp1 extends React.Component{
            constructor(props) {
                    super(props);
                }
                render() {
                    return (
                        <div>
                           { true && <div className="content-all">
                            {
                                this.props.dataContent.map((item)=>{
                                    return(
                                        <a className="item item-thumbnail-left content-in" href="#">
                                            <img className="content-in-img" src={item.img}/>
                                            <h2 className ="content-in-h2">{item.title}</h2>
                                            <p className="content-in-p">{item.content}</p>
                                        </a>
                                    )
                                }) 
                            }
                            </div>
                            }
                            { false&&<div className ="content-popel"><h1>1122221111111111111</h1></div>}

                        </div>
                        
                        )
                }
        }

        //内容
        class Contentallapp2 extends React.Component{
            constructor(props) {
                    super(props);
                }
                render() {
                    return (
                        <div>
                           <p>内容2</p>
                           <p>内容2</p>
                           <p>内容2</p>
                           <p>内容2</p>
                           <p>内容2</p>
                           <p>内容2</p>
                           <p>内容2</p>
                        </div>
                        
                        )
                }
        }

        //底部
        class Footapp extends React.Component{
            constructor(props) {
                    super(props);
                    this.state={
                        datas:[
                            {
                                icon:'ion-chatbubble-working',
                                text:'消息'
                            },
                            {
                                icon:'ion-person-add',
                                text:'联系人'
                            },
                            {
                                icon:'ion-eye',
                                text:'看点'
                            },
                            {
                                icon:'ion-star',
                                text:'动态'
                            }
                        ]
                    }
                }
                itemClick = (key)=>{
                        this.props.onSelectItem({
                            key:key
                        });
                    }
                render() {
                    
                    return (
                        <div className="bar bar-footer content-foot">
                                {
                                    this.state.datas.map((item,index)=>{
                                        return (
                                            <a  class="" onClick={()=>{this.itemClick(index+1)}}>
                                                <i className={`icon ${item.icon} foot-icon-i`}></i>
                                                <span className="foot-icon-text">{item.text}</span>
                                            </a>
                                        )
                                    })
                                }           
                        </div>
                    )
                }
        }
        
        

        ReactDOM.render(
            <Contentapp />,
            document.getElementById('example')
          );
        </script>
</body>

</html>